# Глава 8: Системный коллектор

## Обзор

`SystemCollector` собирает контекстную информацию: ОС, версия ядра, файловые системы, блочные устройства, ошибки dmesg.

## Функции

| Функция | Что делает | Источник |
|---------|-----------|---------|
| `readOSRelease()` | Идентификация ОС | `/etc/os-release` |
| `collectFilesystems()` | Инфо о файловых системах | `df -P -T` |
| `collectBlockDevices()` | Тип (SSD/HDD), размер, модель | `/sys/block/*/` |
| `collectDmesg()` | Ошибки/предупреждения ядра (последние 50) | `dmesg --level=err,warn` |
| `readSysctlInt/Int64/String()` | Чтение sysctl значений | `/proc/sys/` |

## Что искать в dmesg

| Паттерн | Значение |
|---------|---------|
| `EXT4-fs error` | Повреждение файловой системы |
| `EDAC ... CE` | Корректируемые ошибки памяти (ECC) |
| `EDAC ... UE` | Некорректируемые ошибки — ЗАМЕНИТЬ RAM |
| `Out of memory` | OOM killer вызван |
| `link ... down` | Обрыв сетевого соединения |

---

*Далее: [Глава 9 — Инструменты BCC](09-bcc-tools.md)*
