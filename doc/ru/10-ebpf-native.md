# Глава 10: Нативный eBPF

Tier 3 — будущее наблюдаемости Linux: загрузка eBPF-программ напрямую из Go-кода.

## BTF и CO-RE

- **BTF** (BPF Type Format) — метаданные о структурах ядра
- **CO-RE** (Compile Once, Run Everywhere) — единожды скомпилированная программа работает на разных ядрах

## Определение возможностей

```
Tier 3 доступен? → Ядро ≥ 5.8, BTF (/sys/kernel/btf/vmlinux), root
Tier 2 доступен? → bcc-tools установлены, root
Всегда: Tier 1  → procfs/sysfs
```

| Свойство | Tier 2 (BCC) | Tier 3 (Native) |
|---------|-------------|-----------------|
| Зависимости | Python, bcc-tools | Нет (встроено в бинарник) |
| Время запуска | 1-3 сек на инструмент | < 100мс |
| Память | 50-100МБ (Python) | < 5МБ |

---

*Далее: [Глава 11 — Обнаружение аномалий](11-anomaly-detection.md)*
